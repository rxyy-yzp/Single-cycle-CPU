#include "asm.h"
#include "regdef.h"
#include "inst_test.h"

LEAF(n7_and_test)
    
    addi.w s0, s0 ,1
    li  s2, 0x00
###test inst
    TEST_AND(0x5c95951a, 0xca00c414, 0x48008410)
    TEST_AND(0x9ba8ba70, 0xe99fce38, 0x89888a30)
    TEST_AND(0xd30319e0, 0x0ba4cff6, 0x030009e0)
    TEST_AND(0xce6912e8, 0x6676b20e, 0x46601208)
    TEST_AND(0x1d337960, 0x744dd280, 0x14015000)
    TEST_AND(0x79565822, 0xd58a73c7, 0x51025002)
    TEST_AND(0x5493ce59, 0xa7e95630, 0x04814610)
    TEST_AND(0x4a90f478, 0xdea16664, 0x4a806460)
    TEST_AND(0x912edb93, 0x8f4b9870, 0x810a9810)
    TEST_AND(0x08040b84, 0xfa97e908, 0x08040900)
    TEST_AND(0x187a1708, 0xff84714a, 0x18001108)
    TEST_AND(0xb139ef3d, 0x0008d970, 0x0008c930)
    TEST_AND(0xa57271c0, 0xa2ee9b84, 0xa0621180)
    TEST_AND(0x8403fb40, 0x00000000, 0x00000000)
    TEST_AND(0xc0699822, 0x00000000, 0x00000000)
    TEST_AND(0x409c796e, 0x00000000, 0x00000000)
    TEST_AND(0xa7a3b95c, 0x00000000, 0x00000000)
    TEST_AND(0xd9f92fee, 0x00000000, 0x00000000)
    TEST_AND(0x08f663be, 0x00000000, 0x00000000)
    TEST_AND(0x1c74f398, 0x00000000, 0x00000000)
    TEST_AND(0x369ddca8, 0x00000000, 0x00000000)
    TEST_AND(0xe4c7aa7c, 0x00000000, 0x00000000)
    TEST_AND(0x24030842, 0x00000000, 0x00000000)
    TEST_AND(0x86221f00, 0x00000000, 0x00000000)
    TEST_AND(0x0193dba6, 0x00000000, 0x00000000)
    TEST_AND(0xd9a2e4a0, 0x00000000, 0x00000000)
    TEST_AND(0xf73b6a88, 0x00000000, 0x00000000)
    TEST_AND(0xa629a850, 0x00000000, 0x00000000)
    TEST_AND(0xd97504ee, 0x00000000, 0x00000000)
    TEST_AND(0xd6b552f5, 0x00000000, 0x00000000)
    TEST_AND(0x7e0c6d04, 0x00000000, 0x00000000)
    TEST_AND(0x5765d22f, 0x00000000, 0x00000000)
    TEST_AND(0x6333244a, 0x00000000, 0x00000000)
    TEST_AND(0xec84245a, 0x00000000, 0x00000000)
    TEST_AND(0xa2db1ed8, 0x00000000, 0x00000000)
    TEST_AND(0x3a29d000, 0x00000000, 0x00000000)
    TEST_AND(0x6b63a800, 0x00000000, 0x00000000)
    TEST_AND(0xf6a7d130, 0x00000000, 0x00000000)
    TEST_AND(0x0035cf7f, 0x00000000, 0x00000000)
    TEST_AND(0x01f86960, 0x00000000, 0x00000000)
    TEST_AND(0x02a8c850, 0x00000000, 0x00000000)
    TEST_AND(0xffb00bf0, 0x00000000, 0x00000000)
    TEST_AND(0x36890d6a, 0x00000000, 0x00000000)
    TEST_AND(0x0d1f2cbe, 0x00000000, 0x00000000)
    TEST_AND(0x4e202c78, 0x00000000, 0x00000000)
    TEST_AND(0xefeb522a, 0x00000000, 0x00000000)
    TEST_AND(0x8fde116e, 0x00000000, 0x00000000)
    TEST_AND(0x2eb4f758, 0x00000000, 0x00000000)
    TEST_AND(0x00000000, 0x23b45e2c, 0x00000000)
    TEST_AND(0x00000000, 0x14b92b6c, 0x00000000)
    TEST_AND(0x00000000, 0x00000000, 0x00000000)
###detect exception
    bne s2, zero, inst_error
    nop
###score ++
    addi.w s3, s3, 1
###output (s0<<24)|s3
inst_error:  
    slli.w t1, s0, 24
    NOP4
    or t0, t1, s3 
    NOP4
    st.w t0, s1, 0
    jirl zero, ra, 0
    nop
END(n7_and_test)
