#include "asm.h"
#include "regdef.h"
#include "inst_test.h"

LEAF(n12_srli_w_test)
    
    addi.w s0, s0 ,1
    li  s2, 0x00
###test inst
    TEST_SRLI_W(0x8e8ffce0, 0x00000002, 0x23a3ff38)
    TEST_SRLI_W(0x49291230, 0x0000000f, 0x00009252)
    TEST_SRLI_W(0x25da68a0, 0x00000004, 0x025da68a)
    TEST_SRLI_W(0xecacf656, 0x0000000e, 0x0003b2b3)
    TEST_SRLI_W(0xe7bfc848, 0x0000001f, 0x00000001)
    TEST_SRLI_W(0x00115809, 0x0000001f, 0x00000000)
    TEST_SRLI_W(0x7a886604, 0x00000019, 0x0000003d)
    TEST_SRLI_W(0x7fe7a7de, 0x0000000f, 0x0000ffcf)
    TEST_SRLI_W(0x76c29838, 0x00000005, 0x03b614c1)
    TEST_SRLI_W(0xa93f5944, 0x00000011, 0x0000549f)
    TEST_SRLI_W(0x5ec1c900, 0x0000001f, 0x00000000)
    TEST_SRLI_W(0xbf4118f0, 0x00000016, 0x000002fd)
    TEST_SRLI_W(0x84860eec, 0x0000000d, 0x00042430)
    TEST_SRLI_W(0x95173198, 0x0000000b, 0x0012a2e6)
    TEST_SRLI_W(0xe1d73a20, 0x0000000b, 0x001c3ae7)
    TEST_SRLI_W(0x3098b297, 0x00000000, 0x3098b297)
    TEST_SRLI_W(0x840418eb, 0x00000000, 0x840418eb)
    TEST_SRLI_W(0x9889fdd0, 0x00000000, 0x9889fdd0)
    TEST_SRLI_W(0xeb662556, 0x00000000, 0xeb662556)
    TEST_SRLI_W(0xd92dd10e, 0x00000000, 0xd92dd10e)
    TEST_SRLI_W(0xeb6240b4, 0x00000000, 0xeb6240b4)
    TEST_SRLI_W(0x79368c54, 0x00000000, 0x79368c54)
    TEST_SRLI_W(0xfdaa8940, 0x00000000, 0xfdaa8940)
    TEST_SRLI_W(0xf3e99110, 0x00000000, 0xf3e99110)
    TEST_SRLI_W(0x05260ce8, 0x00000000, 0x05260ce8)
    TEST_SRLI_W(0x9d3f7cee, 0x00000000, 0x9d3f7cee)
    TEST_SRLI_W(0xae5fb658, 0x00000000, 0xae5fb658)
    TEST_SRLI_W(0x316638e8, 0x00000000, 0x316638e8)
    TEST_SRLI_W(0x5251b1e0, 0x00000000, 0x5251b1e0)
    TEST_SRLI_W(0xa1ca69a0, 0x00000000, 0xa1ca69a0)
    TEST_SRLI_W(0x02086f98, 0x00000000, 0x02086f98)
    TEST_SRLI_W(0x00000000, 0x00000010, 0x00000000)
    TEST_SRLI_W(0x00000000, 0x00000018, 0x00000000)
    TEST_SRLI_W(0x00000000, 0x00000009, 0x00000000)
    TEST_SRLI_W(0x00000000, 0x0000001a, 0x00000000)
    TEST_SRLI_W(0x00000000, 0x0000001c, 0x00000000)
    TEST_SRLI_W(0x00000000, 0x00000018, 0x00000000)
    TEST_SRLI_W(0x00000000, 0x00000004, 0x00000000)
    TEST_SRLI_W(0x00000000, 0x00000000, 0x00000000)
###detect exception
    bne s2, zero, inst_error
    nop
###score ++
    addi.w s3, s3, 1
###output (s0<<24)|s3
inst_error:  
    slli.w t1, s0, 24
    NOP4
    or t0, t1, s3 
    NOP4
    st.w t0, s1, 0
    jirl zero, ra, 0
    nop
END(n12_srli_w_test)
