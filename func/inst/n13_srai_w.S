#include "asm.h"
#include "regdef.h"
#include "inst_test.h"

LEAF(n13_srai_w_test)
    
    addi.w s0, s0 ,1
    li  s2, 0x00
###test inst
    TEST_SRAI_W(0x7e0083f0, 0x00000009, 0x003f0041)
    TEST_SRAI_W(0x13e680c0, 0x00000018, 0x00000013)
    TEST_SRAI_W(0x6d7388ec, 0x00000010, 0x00006d73)
    TEST_SRAI_W(0xc04efccc, 0x00000010, 0xffffc04e)
    TEST_SRAI_W(0xd6c67200, 0x00000014, 0xfffffd6c)
    TEST_SRAI_W(0x366ea0fe, 0x0000001e, 0x00000000)
    TEST_SRAI_W(0x4a3437c0, 0x00000007, 0x0094686f)
    TEST_SRAI_W(0x355d25a0, 0x00000013, 0x000006ab)
    TEST_SRAI_W(0x39adf6d1, 0x00000008, 0x0039adf6)
    TEST_SRAI_W(0xc0949780, 0x00000013, 0xfffff812)
    TEST_SRAI_W(0xf09ea1a0, 0x0000001d, 0xffffffff)
    TEST_SRAI_W(0xfa6d2b80, 0x0000001b, 0xffffffff)
    TEST_SRAI_W(0x15bfaa14, 0x0000001d, 0x00000000)
    TEST_SRAI_W(0xf83242c0, 0x0000001c, 0xffffffff)
    TEST_SRAI_W(0x2eb7de00, 0x0000001f, 0x00000000)
    TEST_SRAI_W(0x200932e0, 0x0000000d, 0x00010049)
    TEST_SRAI_W(0x6b5fefd3, 0x00000009, 0x0035aff7)
    TEST_SRAI_W(0x8c583f58, 0x0000000c, 0xfff8c583)
    TEST_SRAI_W(0xf7bf6ad0, 0x0000001d, 0xffffffff)
    TEST_SRAI_W(0x3fca1f9e, 0x00000002, 0x0ff287e7)
    TEST_SRAI_W(0x6734f624, 0x00000010, 0x00006734)
    TEST_SRAI_W(0xc948d0f5, 0x00000010, 0xffffc948)
    TEST_SRAI_W(0x281c8725, 0x00000011, 0x0000140e)
    TEST_SRAI_W(0xc99fac26, 0x00000017, 0xffffff93)
    TEST_SRAI_W(0x3a4b3d1e, 0x00000000, 0x3a4b3d1e)
    TEST_SRAI_W(0x84da6ec0, 0x00000004, 0xf84da6ec)
    TEST_SRAI_W(0x24c04ab8, 0x00000016, 0x00000093)
    TEST_SRAI_W(0x06e75c47, 0x00000013, 0x000000dc)
    TEST_SRAI_W(0x9815a4b4, 0x00000012, 0xffffe605)
    TEST_SRAI_W(0xd5fa1c22, 0x0000000f, 0xffffabf4)
    TEST_SRAI_W(0x00000000, 0x00000016, 0x00000000)
    TEST_SRAI_W(0x00000000, 0x00000014, 0x00000000)
    TEST_SRAI_W(0x00000000, 0x0000000f, 0x00000000)
    TEST_SRAI_W(0x00000000, 0x00000015, 0x00000000)
    TEST_SRAI_W(0x00000000, 0x0000001a, 0x00000000)
    TEST_SRAI_W(0x00000000, 0x00000001, 0x00000000)
    TEST_SRAI_W(0x00000000, 0x00000009, 0x00000000)
    TEST_SRAI_W(0x00000000, 0x00000016, 0x00000000)
    TEST_SRAI_W(0x00000000, 0x00000000, 0x00000000)
###detect exception
    bne s2, zero, inst_error
    nop
###score ++
    addi.w s3, s3, 1
###output (s0<<24)|s3
inst_error:  
    slli.w t1, s0, 24
    NOP4
    or t0, t1, s3 
    NOP4
    st.w t0, s1, 0
    jirl zero, ra, 0
    nop
END(n13_srai_w_test)
